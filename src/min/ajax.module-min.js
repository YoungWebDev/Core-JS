var coreJS=coreJS||{};!function(s){"use strict";s.ajax=function(s){if(this.method="POST",this.dataType="JSON",this.async=!0,this.allowed={method:["POST","GET","PUT","DELETE","OPTIONS","UPDATE"],dataType:["JSON","TEXT","HTML","XML"]},this.errors=!1,this.request,this.successFN,this.errorFN,"object"==typeof s&&Object.keys(s).forEach(function(t){this[t]=s[t]}.bind(this)),"GET"===this.method&&"undefined"!=typeof this.data&&(console.error("You cannot send data through GET request."),this.errors=!0),"undefined"==typeof this.url&&(console.error("URL isn't specified."),this.errors=!0),Object.keys(this.allowed).forEach(function(s){-1===this.allowed[s].indexOf(this[s])&&(console.error(s.charAt(0).toUpperCase()+s.slice(1)+' "'+this[s]+'" is incorrect or not supported.'),this.errors=!0)}.bind(this)),this.errors)return{success:function(){},error:function(){}};if(this.warnMsgs={dataType:"Data type given indicates {{dataType}} but different was returned by the server. So response was left as it has been originally."},this.warnHandler=function(s,t){var e=this.warnMsgs[s].replace("{{"+s+"}}",t);console.warn(e)}.bind(this),this.isAFunction=function(s,t){"function"==typeof s&&t()},this.parseHTML=function(t){var s=document.createElement("div");s.innerHTML=t.response,this.successFN(s.children)}.bind(this),this.parseJSON=function(s){try{this.successFN(JSON.parse(s.response))}catch(t){this.warnHandler("dataType","JSON"),this.successFN(s.response)}}.bind(this),this.parseXML=function(s){null===s.responseXML&&""!==s.response?(this.warnHandler("dataType","XML"),this.successFN(s.response)):this.successFN(s.responseXML)}.bind(this),this.redirectToProperParser=function(s){this.isAFunction(this.successFN,function(){"function"==typeof this["parse"+this.dataType]?this["parse"+this.dataType](s):this.successFN(s.responseText)}.bind(this))}.bind(this),this.proccessRequest=function(s){4===s.readyState&&(s.status>=200&&s.status<400?this.redirectToProperParser(s):this.isAFunction(this.errorFN,function(){console.error(s.status+" "+s.statusText+" ("+this.method+") - "+s.responseURL),this.errorFN(s)}.bind(this)))}.bind(this),this.request=new XMLHttpRequest,this.request.open(this.method,this.url,this.async),this.async){var t=this;this.request.onreadystatechange=function(){t.proccessRequest(this)}}return"GET"===this.method||"undefined"==typeof this.data?this.request.send():this.request.send(this.data),this.async||(this.sync=this.request),this.request=null,this.isAFunction(this.error,function(){this.errorFN=this.error}.bind(this)),this.isAFunction(this.success,function(){this.successFN=this.success}.bind(this)),this.successHandler=function(s){return this.successFN=s,{error:this.errorHandler}}.bind(this),this.errorHandler=function(s){return this.errorFN=s,{success:this.successHandler}}.bind(this),"undefined"!=typeof this.sync?{request:this.sync}:{success:this.successHandler,error:this.errorHandler}}}(coreJS);